#!/usr/bin/env ruby

require 'date'

raise "Usage: working_days start_date end_date" unless ARGV.size == 2

begin
  start_date = Date.parse(ARGV[0])
rescue ArgumentError
  puts "The start date is invalid"
  exit 1
end

begin
  end_date = Date.parse(ARGV[1])
rescue ArgumentError
  puts "The end date is invalid"
  exit 1
end

days_count = [*start_date..end_date].reject { |d| d.wday == 6 || d.wday == 0 }.size

puts "#{days_count} working days between #{start_date} #{end_date}"